(this["webpackJsonpslider-ui-double-callback-problem"]=this["webpackJsonpslider-ui-double-callback-problem"]||[]).push([[0],{54:function(e,t,n){},63:function(e,t,n){"use strict";n.r(t);var c=n(2),a=(n(54),n(7)),o=n(0),r=n.n(o),i=n(102),s=n(42);function j(){var e=Object(o.useState)(0),t=Object(a.a)(e,2),n=t[0],r=t[1];return Object(c.jsxs)("div",{children:[Object(c.jsxs)(s.a,{paragraph:!0,children:[Object(c.jsx)("strong",{children:"Example 0."})," Typical Material-UI Slider component usage. value=",n]}),Object(c.jsx)(i.a,{min:-8,max:8,value:n,track:!1,onChange:function(e,t){"number"===typeof t&&r(t)}}),Object(c.jsx)(s.a,{paragraph:!0,children:"The problematic cases follow."})]})}function l(){var e,t=Object(o.useState)(0),n=Object(a.a)(t,2),r=n[0],j=n[1],l=Object(o.useState)(0),u=Object(a.a)(l,2),b=u[0],p=u[1];return Object(c.jsxs)("div",{children:[Object(c.jsxs)(s.a,{paragraph:!0,children:[Object(c.jsx)("strong",{children:"Example 1."})," The problem appears. position=",r," velocity=",b]}),Object(c.jsx)(i.a,{min:-8,max:8,value:b,onChange:function(t,n){"number"===typeof n&&(p(n),void 0===e&&(e=window.setInterval((function(){j(r+b)}),250)))},onChangeCommitted:function(t,n){"number"===typeof n&&(p(0),void 0!==e&&(window.clearInterval(e),e=void 0))}})]})}function u(){var e=Object(o.useState)(""),t=Object(a.a)(e,2),n=t[0],r=t[1],j=Object(o.useState)(0),l=Object(a.a)(j,2),u=l[0],b=l[1],p=Object(o.useState)(0),m=Object(a.a)(p,2),x=m[0],d=m[1],O=Object(o.useState)(),f=Object(a.a)(O,2),h=f[0],v=f[1],g=0;return Object(c.jsxs)("div",{children:[Object(c.jsxs)(s.a,{paragraph:!0,children:[Object(c.jsx)("strong",{children:"Example 2."})," Tip: (1) click the velocity=0, no move; (2) move the slider and how 'count' is captured. #timer=","".concat(h)," position=",u," velocity=",x]}),Object(c.jsx)(i.a,{min:-8,max:8,value:x,onChange:function(e,t){"number"===typeof t&&(v((function(e){return void 0!==e?void 0:window.setInterval((function(){r((function(e){return"callback ".concat(g++,"\n").concat(e)})),b(u+x)}),250)})),d(t))},onChangeCommitted:function(e,t){"number"===typeof t&&(d(0),v((function(e){window.clearInterval(e)})))}}),Object(c.jsx)("pre",{children:n})]})}function b(){var e=Object(o.useState)(""),t=Object(a.a)(e,2),n=t[0],r=t[1],j=Object(o.useState)(0),l=Object(a.a)(j,2),u=l[0],b=l[1],p=Object(o.useState)(0),m=Object(a.a)(p,2),x=m[0],d=m[1],O=Object(o.useState)(),f=Object(a.a)(O,2),h=f[0],v=f[1],g=0;return Object(c.jsxs)("div",{children:[Object(c.jsxs)(s.a,{paragraph:!0,children:[Object(c.jsx)("strong",{children:"Example 3."})," Tip: click the velocity=0, no move. #timer=","".concat(h)," position=",u," velocity=",x]}),Object(c.jsx)(i.a,{min:-8,max:8,value:x,onChange:function(e,t){"number"===typeof t&&(d(t),v((function(e){return void 0!==e?void 0:window.setInterval((function(){r((function(e){return"callback ".concat(g++,"\n").concat(e)})),b(u+x)}),250)})))},onChangeCommitted:function(e,t){"number"===typeof t&&(d(0),v((function(e){window.clearInterval(e)})))}}),Object(c.jsx)("pre",{children:n})]})}function p(){var e=Object(o.useState)(""),t=Object(a.a)(e,2),n=t[0],r=t[1],j=Object(o.useState)(0),l=Object(a.a)(j,2),u=l[0],b=l[1],p=Object(o.useState)(0),m=Object(a.a)(p,2),x=m[0],d=m[1],O=Object(o.useReducer)((function(e,t){var n=e.offset,c=e.timer,a=e.counter,o=t.action,r=t.arg,i=t.delegate;switch(o){case"set-offset":return{offset:r,timer:c,counter:a};case"unset-offset":return{offset:0,timer:c,counter:a};case"create-timer-set-offset":return 0===c?{offset:r,timer:i(),counter:0}:{offset:r,timer:c,counter:a};case"destroy-timer-unset-offset":return i(c),{offset:0,timer:0,counter:a};case"count-up":return i(n,a),{offset:n,timer:c,counter:a+1};default:return{offset:n,timer:c,counter:a}}}),{offset:0,timer:0,counter:0}),f=Object(a.a)(O,2),h=f[0],v=f[1],g=function(){v({action:"count-up",delegate:function(e,t){r((function(n){return"update: offset ".concat(e," counter ").concat(t,"\n").concat(n)})),b((function(t){return t+e}))}})};return Object(c.jsxs)("div",{children:[Object(c.jsxs)(s.a,{paragraph:!0,children:[Object(c.jsx)("strong",{children:"Example 4."})," Using ",Object(c.jsx)("code",{children:"useReducer"})," and suggested workarounds, but still (even more reproducible) with double timer creation. #timer=","".concat(h.timer)," position=",u," velocity=",x]}),Object(c.jsx)(i.a,{min:-8,max:8,value:x,onChange:function(e,t){"number"===typeof t&&(d(t),v({action:"create-timer-set-offset",arg:t,delegate:function(){var e=window.setInterval(g,250);return r((function(n){return"velocity: ".concat(t,"; setInterval result: ").concat(e,"\n").concat(n)})),e}}))},onChangeCommitted:function(e,t){"number"===typeof t&&(d(0),v({action:"destroy-timer-unset-offset",delegate:function(e){return window.clearInterval(e)}}))}}),Object(c.jsx)("pre",{children:n})]})}function m(){var e=Object(o.useState)(0),t=Object(a.a)(e,2),n=t[0],r=t[1],j=Object(o.useState)(0),l=Object(a.a)(j,2),u=l[0],b=l[1],p=Object(o.useState)(!1),m=Object(a.a)(p,2),x=m[0],d=m[1];return Object(o.useEffect)((function(){if(x){var e=window.setInterval((function(){r((function(e){return e+u}))}),250);return function(){window.clearInterval(e)}}}),[u,x]),Object(c.jsxs)("div",{children:[Object(c.jsxs)(s.a,{paragraph:!0,children:[Object(c.jsx)("strong",{children:"Example 5."})," Using ",Object(c.jsx)("code",{children:"useEffect"})," and cancel every loop when velocity changes. Thanks to @Kroisse in LangDev. No callback reaches when slider is moved fast (< 250 ms per change). position=",n," velocity=",u]}),Object(c.jsx)(i.a,{min:-8,max:8,value:u,onChange:function(e,t){"number"===typeof t&&(b(t),d(!0))},onChangeCommitted:function(e,t){"number"===typeof t&&(b(0),d(!1))}})]})}var x=n(28),d={position:0,velocity:0},O=function(e,t){switch(t.type){case"TICK":return Object(x.a)(Object(x.a)({},e),{},{position:e.position+e.velocity});case"SET_VELOCITY":return Object(x.a)(Object(x.a)({},e),{},{velocity:t.velocity});case"RESET_VELOCITIY":return Object(x.a)(Object(x.a)({},e),{},{velocity:0})}};function f(){var e=o.useReducer(O,d),t=Object(a.a)(e,2),n=t[0],r=t[1],j=0!==n.velocity;return o.useEffect((function(){var e=j&&window.setInterval((function(){r({type:"TICK"})}),100);return function(){e&&window.clearInterval(e)}}),[j]),Object(c.jsxs)("div",{children:[Object(c.jsxs)(s.a,{paragraph:!0,children:[Object(c.jsx)("strong",{children:"Example 6."})," position=",n.position," velocity=",n.velocity]}),Object(c.jsx)(i.a,{min:-8,max:8,value:n.velocity,onChange:function(e,t){"number"===typeof t&&r({type:"SET_VELOCITY",velocity:t})},onChangeCommitted:function(){r({type:"RESET_VELOCITIY"})}})]})}var h=n(23),v=n(8),g=n(94),y=n(96),w=n(95),C=n(100),E=n(98),I=n(101),S=n(99),T=n(97),k=Object(g.a)((function(e){return{root:{margin:0,padding:0,height:"100%"},appbar:{zIndex:e.zIndex.drawer+1},drawer:{width:240,flexShrink:0},drawerPaper:{width:240},drawerContainer:{overflow:"auto"},contentContainer:{paddingLeft:240},content:{flexGrow:1,padding:e.spacing(3)}}}));function L(){var e=k();return Object(c.jsx)("div",{className:e.root,children:Object(c.jsxs)(h.a,{children:[Object(c.jsx)(w.a,{}),Object(c.jsx)(y.a,{position:"fixed",className:e.appbar,children:Object(c.jsx)(T.a,{children:Object(c.jsx)(s.a,{variant:"h6",component:"h1",noWrap:!0,children:"Failure Demo"})})}),Object(c.jsxs)(C.a,{className:e.drawer,variant:"permanent",classes:{paper:e.drawerPaper},children:[Object(c.jsx)(T.a,{}),Object(c.jsx)("div",{className:e.drawerContainer,children:Object(c.jsxs)(E.a,{children:[Object(c.jsx)(I.a,{component:h.b,button:!0,to:"/example0",children:Object(c.jsx)(S.a,{primary:"Example 0"},"/example0")},"/example0"),Object(c.jsx)(I.a,{component:h.b,button:!0,to:"/example1",children:Object(c.jsx)(S.a,{primary:"Example 1"},"/example1")},"/example1"),Object(c.jsx)(I.a,{component:h.b,button:!0,to:"/example2",children:Object(c.jsx)(S.a,{primary:"Example 2"},"/example2")},"/example2"),Object(c.jsx)(I.a,{component:h.b,button:!0,to:"/example3",children:Object(c.jsx)(S.a,{primary:"Example 3"},"/example3")},"/example3"),Object(c.jsx)(I.a,{component:h.b,button:!0,to:"/example4",children:Object(c.jsx)(S.a,{primary:"Example 4"},"/example4")},"/example4"),Object(c.jsx)(I.a,{component:h.b,button:!0,to:"/example5",children:Object(c.jsx)(S.a,{primary:"Example 5"},"/example5")},"/example5"),Object(c.jsx)(I.a,{component:h.b,button:!0,to:"/example6",children:Object(c.jsx)(S.a,{primary:"Example 6"},"/example6")},"/example6")]})})]}),Object(c.jsxs)("div",{className:e.contentContainer,children:[Object(c.jsx)(T.a,{}),Object(c.jsx)("main",{className:e.content,children:Object(c.jsxs)(v.d,{children:[Object(c.jsx)(v.a,{exact:!0,from:"/",to:"/example0"}),Object(c.jsx)(v.b,{exact:!0,path:"/example0",component:j}),Object(c.jsx)(v.b,{exact:!0,path:"/example1",component:l}),Object(c.jsx)(v.b,{exact:!0,path:"/example2",component:u}),Object(c.jsx)(v.b,{exact:!0,path:"/example3",component:b}),Object(c.jsx)(v.b,{exact:!0,path:"/example4",component:p}),Object(c.jsx)(v.b,{exact:!0,path:"/example5",component:m}),Object(c.jsx)(v.b,{exact:!0,path:"/example6",component:f})]})})]})]})})}var N=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,103)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,o=t.getLCP,r=t.getTTFB;n(e),c(e),a(e),o(e),r(e)}))},F=n(9);n.n(F).a.render(Object(c.jsx)(r.a.StrictMode,{children:Object(c.jsx)(L,{})}),document.getElementById("root")),N()}},[[63,1,2]]]);
//# sourceMappingURL=main.a485075b.chunk.js.map