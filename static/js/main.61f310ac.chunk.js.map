{"version":3,"sources":["Example0.tsx","Example1.tsx","Example2.tsx","Example3.tsx","Example4.tsx","Example5.tsx","Example6.tsx","Example7.tsx","Example8.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["Example0","useState","value","setValue","Typography","paragraph","Slider","min","max","track","onChange","e","v","Example1","timer","position","setPosition","velocity","setVelocity","undefined","window","setInterval","onChangeCommitted","clearInterval","Example2","log","setLog","setTimer","count","Example3","Example4","useReducer","offset","counter","action","arg","delegate","composite","doComposite","iterated","x","Example5","animated","setAnimated","useEffect","id","initialState","reducer","state","type","Example6","React","dispatch","interacting","_","Example7","last","setLast","animFrameCallback","now","console","requestAnimationFrame","performance","Example8","useStyles","makeStyles","theme","root","margin","padding","height","appbar","zIndex","drawer","width","flexShrink","drawerPaper","drawerContainer","overflow","contentContainer","paddingLeft","content","flexGrow","spacing","App","classes","menu","ref","label","component","className","CssBaseline","AppBar","Toolbar","variant","noWrap","Drawer","paper","List","map","ListItem","Link","button","to","ListItemText","primary","exact","from","path","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.61f310ac.chunk.js","sourcesContent":["import { useState, } from 'react'\nimport Slider from '@material-ui/core/Slider'\nimport Typography from '@material-ui/core/Typography'\n\nexport default function Example0() {\n\n  const [ value, setValue, ] = useState(0)\n\n  return (\n    <div>\n      <Typography paragraph>\n        <strong>Example 0.</strong> Typical Material-UI Slider component usage. value={value}\n      </Typography>\n      <Slider\n        min={-8}\n        max={+8}\n        value={value}\n        track={false}\n        onChange={(e, v, ) => { if (typeof v !== 'number') return; setValue(v); }}\n      />\n      <Typography paragraph>\n        The problematic cases follow.\n      </Typography>\n    </div>\n  )\n}\n","import { useState, } from 'react'\nimport Slider from '@material-ui/core/Slider'\nimport Typography from '@material-ui/core/Typography'\n\nexport default function Example1() {\n\n  const [ position, setPosition, ] = useState(0)\n  const [ velocity, setVelocity, ] = useState(0)\n\n  let timer: number | undefined\n\n  const handleChange = (e: object, v: number | number[]) => {\n\n    if (typeof v !== 'number')\n      return\n    \n    setVelocity(v)\n    if (timer === undefined) {\n      timer = window.setInterval(() => { setPosition(position + velocity); }, 250)\n    }\n  }\n\n  const handleChangeCommitted = (e: object, v: number | number[]) => {\n\n    if (typeof v !== 'number')\n      return\n\n    setVelocity(0)\n    if (timer !== undefined) {\n      window.clearInterval(timer)\n      timer = undefined\n    }\n  }\n\n  return (\n    <div>\n      <Typography paragraph>\n        <strong>Example 1.</strong> The problem appears. position={position} velocity={velocity}\n      </Typography>\n      <Slider\n        min={-8}\n        max={+8}\n        value={velocity}\n        onChange={handleChange}\n        onChangeCommitted={handleChangeCommitted}\n      />\n    </div>\n  )\n}\n","import { useState, } from 'react'\nimport Slider from '@material-ui/core/Slider'\nimport Typography from '@material-ui/core/Typography'\n\nexport default function Example2() {\n\n  const [ log, setLog, ] = useState('')\n  const [ position, setPosition, ] = useState(0)\n  const [ velocity, setVelocity, ] = useState(0)\n  const [ timer, setTimer, ] = useState<number | undefined>()\n\n  let count: number = 0\n\n  const handleChange = (e: object, v: number | number[]) => {\n\n    if (typeof v !== 'number')\n      return\n    \n    setTimer(timer => {\n      if (timer !== undefined) return\n      else return window.setInterval(\n        () => {\n          setLog(log => `callback ${count++}\\n${log}`);\n          setPosition(position + velocity);\n        },\n        250\n      )\n    })\n    setVelocity(v)\n  }\n\n  const handleChangeCommitted = (e: object, v: number | number[]) => {\n\n    if (typeof v !== 'number')\n      return\n\n    setVelocity(0)\n    setTimer(timer => {\n      window.clearInterval(timer);\n      return undefined;\n    })\n  }\n\n  return (\n    <div>\n      <Typography paragraph>\n        <strong>Example 2.</strong> Tip: (1) click the velocity=0, no move; (2) move the slider and how 'count' is captured. #timer={`${timer}`} position={position} velocity={velocity}\n      </Typography>\n      <Slider\n        min={-8}\n        max={+8}\n        value={velocity}\n        onChange={handleChange}\n        onChangeCommitted={handleChangeCommitted}\n      />\n      <pre>\n        {log}\n      </pre>\n    </div>\n  )\n}\n","import { useState, } from 'react'\nimport Slider from '@material-ui/core/Slider'\nimport Typography from '@material-ui/core/Typography'\n\nexport default function Example3() {\n\n  const [ log, setLog, ] = useState('')\n  const [ position, setPosition, ] = useState(0)\n  const [ velocity, setVelocity, ] = useState(0)\n  const [ timer, setTimer, ] = useState<number | undefined>()\n\n  let count: number = 0\n\n  const handleChange = (e: object, v: number | number[]) => {\n\n    if (typeof v !== 'number')\n      return\n    \n    setVelocity(v)\n    setTimer(timer => {\n      if (timer !== undefined) return\n      else return window.setInterval(\n        () => {\n          setLog(log => `callback ${count++}\\n${log}`);\n          setPosition(position + velocity);\n        },\n        250\n      )\n    })\n  }\n\n  const handleChangeCommitted = (e: object, v: number | number[]) => {\n\n    if (typeof v !== 'number')\n      return\n\n    setVelocity(0)\n    setTimer(timer => {\n      window.clearInterval(timer);\n      return undefined;\n    })\n  }\n\n  return (\n    <div>\n      <Typography paragraph>\n        <strong>Example 3.</strong> Tip: click the velocity=0, no move. #timer={`${timer}`} position={position} velocity={velocity}\n      </Typography>\n      <Slider\n        min={-8}\n        max={+8}\n        value={velocity}\n        onChange={handleChange}\n        onChangeCommitted={handleChangeCommitted}\n      />\n      <pre>\n        {log}\n      </pre>\n    </div>\n  )\n}\n","import { useState, useReducer, } from 'react'\nimport Slider from '@material-ui/core/Slider'\nimport Typography from '@material-ui/core/Typography'\n\nexport default function Example4() {\n\n  const [ log, setLog, ] = useState('')\n  const [ position, setPosition, ] = useState(0)\n  const [ velocity, setVelocity, ] = useState(0)\n  const [ composite, doComposite, ] = useReducer(\n    (\n      { offset, timer, counter, }: (\n        { offset: number, timer: number, counter: number, }\n      ),\n      { action, arg, delegate, }: (\n        { action: 'set-offset', arg: number, delegate?: never, } |\n        { action: 'unset-offset', arg?: never, delegate?: never, } |\n        { action: 'create-timer-set-offset', arg: number, delegate: () => number, } |\n        { action: 'destroy-timer-unset-offset', arg?: never, delegate: (timer: number) => void, } |\n        { action: 'count-up', arg?: never, delegate: (offset: number, counter: number, ) => void, } |\n        never\n      ),\n    ) => {\n      switch (action) {\n        case 'set-offset':\n          return { offset: arg! as number, timer, counter, }\n        case 'unset-offset':\n          return { offset: 0, timer, counter, }\n        case 'create-timer-set-offset':\n          if (timer === 0) {\n            const timerMade = (delegate! as () => number)()\n            return { offset: arg! as number, timer: timerMade, counter: 0, }\n          } else {\n            return { offset: arg! as number, timer, counter, }\n          }\n        case 'destroy-timer-unset-offset':\n          (delegate! as (timer: number) => void)(timer)\n          return { offset: 0, timer: 0, counter }\n        case 'count-up':\n          (delegate! as (offset: number, counter: number, ) => number)(offset, counter, )\n          return { offset, timer, counter: counter + 1, }\n        default:\n          return { offset, timer, counter, }\n      }\n    },\n    { offset: 0, timer: 0, counter: 0, },\n  )\n\n  const iterated = () => {\n\n    doComposite({\n      action: 'count-up',\n      delegate: (offset, counter, ) => {\n        setLog(log => `update: offset ${offset} counter ${counter}\\n${log}`)\n\n        setPosition(position => position + offset)\n      },\n    })\n  }\n\n  const handleChange = (e: object, v: number | number[]) => {\n\n    if (typeof v !== 'number')\n      return\n    \n    setVelocity(v)\n    doComposite({\n      action: 'create-timer-set-offset',\n      arg: v,\n      delegate: () => {\n        const x = window.setInterval(iterated, 250)\n        setLog(log => `velocity: ${v}; setInterval result: ${x}\\n${log}`)\n        return x\n      }\n    })\n  }\n\n  const handleChangeCommitted = (e: object, v: number | number[]) => {\n\n    if (typeof v !== 'number')\n      return\n\n    setVelocity(0)\n    doComposite({\n      action: 'destroy-timer-unset-offset',\n      delegate: (timer) => window.clearInterval(timer)\n    })\n  }\n\n  return (\n    <div>\n      <Typography paragraph>\n        <strong>Example 4.</strong> Using <code>useReducer</code> and suggested workarounds, but still (even more reproducible) with double timer creation. #timer={`${composite.timer}`} position={position} velocity={velocity}\n      </Typography>\n      <Slider\n        min={-8}\n        max={+8}\n        value={velocity}\n        onChange={handleChange}\n        onChangeCommitted={handleChangeCommitted}\n      />\n      <pre>\n        {log}\n      </pre>\n    </div>\n  )\n}\n","/**\n * Thx to Kroisse @Kroisse\n */\n\nimport { useState, useEffect, } from 'react'\nimport Slider from '@material-ui/core/Slider'\nimport Typography from '@material-ui/core/Typography'\n\nexport default function Example5() {\n\n  const [ position, setPosition, ] = useState(0)\n  const [ velocity, setVelocity, ] = useState(0)\n  const [ animated, setAnimated, ] = useState(false)\n\n  const handleChange = (e: object, v: number | number[]) => {\n\n    if (typeof v !== 'number')\n      return\n    \n    setVelocity(v)\n    setAnimated(true)\n  }\n\n  const handleChangeCommitted = (e: object, v: number | number[]) => {\n\n    if (typeof v !== 'number')\n      return\n\n    setVelocity(0)\n    setAnimated(false)\n  }\n\n  useEffect(\n    () => {\n\n      if (!animated) {\n        return\n      }\n\n      const cb = () => { setPosition(position => position + velocity); }\n      const id = window.setInterval(cb, 250)\n      return () => { window.clearInterval(id); }\n    },\n    [velocity, animated, ],\n  )\n\n  return (\n    <div>\n      <Typography paragraph>\n        <strong>Example 5.</strong> Using <code>useEffect</code> and cancel every loop when velocity changes. Thanks to @Kroisse in LangDev. No callback reaches when slider is moved fast (&lt; 250 ms per change). position={position} velocity={velocity}\n      </Typography>\n      <Slider\n        min={-8}\n        max={+8}\n        value={velocity}\n        onChange={handleChange}\n        onChangeCommitted={handleChangeCommitted}\n      />\n    </div>\n  )\n}\n","/**\n * authored by @cometkim\n */\nimport * as React from 'react';\nimport Slider from '@material-ui/core/Slider'\nimport Typography from '@material-ui/core/Typography'\n\ntype State = {\n  position: number,\n  velocity: number,\n};\n\nconst initialState: State = {\n  position: 0,\n  velocity: 0,\n};\n\ntype Action = (\n  | { type: 'TICK' }\n  | { type: 'SET_VELOCITY', velocity: number }\n  | { type: 'RESET_VELOCITIY' }\n)\n\nconst reducer: React.Reducer<State, Action> = (state, action) => {\n  switch (action.type) {\n    case 'TICK':\n      return { ...state, position: state.position + state.velocity }\n    case 'SET_VELOCITY':\n      return { ...state, velocity: action.velocity }\n    case 'RESET_VELOCITIY':\n      return { ...state, velocity: 0 }\n  }\n}\n\nexport default function Example6() {\n  const [state, dispatch] = React.useReducer(reducer, initialState);\n\n  const interacting = state.velocity !== 0;\n  React.useEffect(() => {\n    function tick() {\n      dispatch({ type: 'TICK' });\n    }\n    const timer = interacting && window.setInterval(tick, 100);\n    return () => void (timer && window.clearInterval(timer));\n  }, [interacting]);\n\n  return (\n    <div>\n      <Typography paragraph>\n        <strong>Example 6.</strong> position={state.position} velocity={state.velocity}\n      </Typography>\n      <Slider\n        min={-8}\n        max={+8}\n        value={state.velocity}\n        onChange={(_, v) => {\n          if (typeof v === 'number') {\n            dispatch({ type: 'SET_VELOCITY', velocity: v })\n          }\n        }}\n        onChangeCommitted={() => {\n          dispatch({ type: 'RESET_VELOCITIY' })\n        }}\n      />\n    </div>\n  )\n}\n","import * as React from 'react'\nimport Slider from '@material-ui/core/Slider'\nimport Typography from '@material-ui/core/Typography'\n\nexport default function Example7() {\n\n  const [ position, setPosition, ] = React.useState(0)\n  const [ velocity, setVelocity, ] = React.useState(0)\n  const [ last, setLast, ] = React.useState(0)\n\n  const handleChange = (e: object, v: number | number[]) => {\n\n    if (typeof v !== 'number')\n      return\n    \n    setVelocity(v)\n  }\n\n  const handleChangeCommitted = (e: object, v: number | number[]) => {\n\n    if (typeof v !== 'number')\n      return\n\n    setVelocity(0)\n  }\n\n  const animFrameCallback = React.useCallback(\n    (now: number) => {\n      console.log(`now: ${now} last: ${last} velocity: ${velocity}`)\n      if (now < last + 500) {\n        return\n      }\n      setPosition(position => position + velocity)\n      setLast(last => last + 500)\n\n      if (velocity !== 0) {\n        window.requestAnimationFrame(animFrameCallback)\n      }\n    },\n    [velocity, last, ],\n  )\n\n  React.useEffect(\n    () => {\n      if (velocity !== 0) {\n        setLast(performance.now())\n        animFrameCallback(performance.now())\n      }\n      return () => {}\n    },\n    [ animFrameCallback, velocity, ],\n  )\n\n  return (\n    <div>\n      <Typography paragraph>\n        <strong>Example 7.</strong> trying rAF (total failure). position={position} velocity={velocity}\n      </Typography>\n      <Slider\n        min={-8}\n        max={+8}\n        value={velocity}\n        onChange={handleChange}\n        onChangeCommitted={handleChangeCommitted}\n      />\n    </div>\n  )\n}\n","import * as React from 'react'\nimport Slider from '@material-ui/core/Slider'\nimport Typography from '@material-ui/core/Typography'\n\n/* eslint-disable-next-line @typescript-eslint/no-unused-vars */\nfunction useForceUpdate() {\n  const [, forceUpdate] = React.useReducer(v => ++v, 0);\n  return forceUpdate;\n}\n\nexport default function Example8() {\n  const [ position, setPosition, ] = React.useState(0)\n  const [ velocity, setVelocity, ] = React.useState(0)\n  const interacting = velocity !== 0\n\n  type SliderChangeHandler = React.ComponentProps<typeof Slider>['onChange']\n  const handleChange: SliderChangeHandler = (_, v) => {\n    if (typeof v !== 'number') {\n      return;\n    }\n    setVelocity(v);\n  }\n\n  const handleChangeCommitted = () => {\n    setVelocity(0);\n  }\n\n  React.useEffect(() => {\n    if (!interacting) {\n      return;\n    }\n    window.requestAnimationFrame(() => {\n      setPosition(position => position + velocity);\n    })\n  });\n\n  return (\n    <div>\n      <Typography paragraph>\n        <strong>Example 8.</strong> rAF. position={position} velocity={velocity}\n      </Typography>\n      <Slider\n        min={-8}\n        max={+8}\n        value={velocity}\n        onChange={handleChange}\n        onChangeCommitted={handleChangeCommitted}\n      />\n    </div>\n  );\n}\n","import Example0 from './Example0'\nimport Example1 from './Example1'\nimport Example2 from './Example2'\nimport Example3 from './Example3'\nimport Example4 from './Example4'\nimport Example5 from './Example5'\nimport Example6 from './Example6'\nimport Example7 from './Example7'\nimport Example8 from './Example8'\n\nimport React from 'react'\nimport { HashRouter, Link, Route, Redirect, Switch, } from 'react-router-dom'\nimport { makeStyles, } from '@material-ui/core/styles'\nimport AppBar from '@material-ui/core/AppBar'\nimport CssBaseline from '@material-ui/core/CssBaseline'\nimport Drawer from '@material-ui/core/Drawer'\nimport List from '@material-ui/core/List'\nimport ListItem from '@material-ui/core/ListItem'\nimport ListItemText from '@material-ui/core/ListItemText'\nimport Toolbar from '@material-ui/core/Toolbar'\nimport Typography from '@material-ui/core/Typography'\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    margin: 0,\n    padding: 0,\n    height: '100%',\n  },\n  appbar: {\n    zIndex: theme.zIndex.drawer + 1,\n  },\n  drawer: {\n    width: 240,\n    flexShrink: 0,\n  },\n  drawerPaper: {\n    width: 240,\n  },\n  drawerContainer: {\n    overflow: 'auto'\n  },\n  contentContainer: {\n    paddingLeft: 240,\n  },\n  content: {\n    flexGrow: 1,\n    padding: theme.spacing(3),\n  },\n}))\n\nexport default function App() {\n\n  const classes = useStyles()\n\n  const menu: Array<{ ref: string, label: string, component: () => JSX.Element, }> = [\n    { ref: '/example0', label: 'Example 0', component: Example0, },\n    { ref: '/example1', label: 'Example 1', component: Example1, },\n    { ref: '/example2', label: 'Example 2', component: Example2, },\n    { ref: '/example3', label: 'Example 3', component: Example3, },\n    { ref: '/example4', label: 'Example 4', component: Example4, },\n    { ref: '/example5', label: 'Example 5', component: Example5, },\n    { ref: '/example6', label: 'Example 6', component: Example6, },\n    { ref: '/example7', label: 'Example 7', component: Example7, },\n    { ref: '/example8', label: 'Example 8', component: Example8, },\n  ]\n\n  return (\n    <div className={classes.root}>\n      <HashRouter>\n        <CssBaseline />\n        <AppBar position='fixed' className={classes.appbar}>\n          <Toolbar>\n            <Typography variant='h6' component='h1' noWrap>\n              Failure Demo\n            </Typography>\n          </Toolbar>\n        </AppBar>\n        <Drawer\n          className={classes.drawer}\n          variant='permanent'\n          classes={{ paper: classes.drawerPaper, }}\n        >\n          <Toolbar />\n          <div className={classes.drawerContainer}>\n            <List>\n              {menu.map(({ ref, label, }, ) => (\n                <ListItem\n                  component={Link}\n                  button\n                  key={ref}\n                  to={ref}\n                >\n                  <ListItemText key={ref} primary={label} />\n                </ListItem>\n              ))}\n            </List>\n          </div>\n        </Drawer>\n        <div className={classes.contentContainer}>\n          <Toolbar />\n          <main className={classes.content}>\n            <Switch>\n              <Redirect exact from='/' to='/example0' />\n              {menu.map(({ ref, component, }) => (\n                <Route exact path={ref} component={component} />\n              ))}\n            </Switch>\n          </main>\n        </div>\n      </HashRouter>\n    </div>\n  )\n}\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import './index.css'\nimport App from './App'\nimport reportWebVitals from './reportWebVitals'\n\nimport React from 'react'\nimport ReactDOM from 'react-dom'\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n)\n\nreportWebVitals()\n"],"sourceRoot":""}